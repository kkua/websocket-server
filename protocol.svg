<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: 消息格式 Pages: 1 -->
<svg width="816pt" height="180pt"
 viewBox="0.00 0.00 815.63 180.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 176.2)">
<title>消息格式</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-176.2 811.633,-176.2 811.633,4 -4,4"/>
<!-- msg -->
<g id="node1" class="node">
<title>msg</title>
<polygon fill="none" stroke="#000000" points="34.8046,-72.5 34.8046,-171.7 807.633,-171.7 807.633,-72.5 34.8046,-72.5"/>
<text text-anchor="middle" x="62.8155" y="-155.1" font-family="Times,serif" font-size="14.00" fill="#000000">消息号</text>
<polyline fill="none" stroke="#000000" points="34.8046,-146.9 90.8264,-146.9 "/>
<text text-anchor="middle" x="62.8155" y="-130.3" font-family="Times,serif" font-size="14.00" fill="#000000">2字节</text>
<polyline fill="none" stroke="#000000" points="34.8046,-122.1 90.8264,-122.1 "/>
<text text-anchor="middle" x="48.8046" y="-105.5" font-family="Times,serif" font-size="14.00" fill="#000000">0</text>
<polyline fill="none" stroke="#000000" points="62.8046,-97.3 62.8046,-122.1 "/>
<text text-anchor="middle" x="76.8046" y="-105.5" font-family="Times,serif" font-size="14.00" fill="#000000">1</text>
<polyline fill="none" stroke="#000000" points="34.8046,-97.3 90.8264,-97.3 "/>
<text text-anchor="middle" x="62.8155" y="-80.7" font-family="Times,serif" font-size="14.00" fill="#000000">msgId</text>
<polyline fill="none" stroke="#000000" points="90.8264,-72.5 90.8264,-171.7 "/>
<text text-anchor="middle" x="175.6031" y="-155.1" font-family="Times,serif" font-size="14.00" fill="#000000">header长度</text>
<polyline fill="none" stroke="#000000" points="90.8264,-146.9 260.3798,-146.9 "/>
<text text-anchor="middle" x="175.6031" y="-130.3" font-family="Times,serif" font-size="14.00" fill="#000000">2字节</text>
<polyline fill="none" stroke="#000000" points="90.8264,-122.1 260.3798,-122.1 "/>
<text text-anchor="middle" x="132.8264" y="-105.5" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
<polyline fill="none" stroke="#000000" points="174.8264,-97.3 174.8264,-122.1 "/>
<text text-anchor="middle" x="217.3264" y="-105.5" font-family="Times,serif" font-size="14.00" fill="#000000">3</text>
<polyline fill="none" stroke="#000000" points="90.8264,-97.3 260.3798,-97.3 "/>
<text text-anchor="middle" x="175.6031" y="-80.7" font-family="Times,serif" font-size="14.00" fill="#000000">header长度（字节数）</text>
<polyline fill="none" stroke="#000000" points="260.3798,-72.5 260.3798,-171.7 "/>
<text text-anchor="middle" x="418.3835" y="-155.1" font-family="Times,serif" font-size="14.00" fill="#000000">header</text>
<polyline fill="none" stroke="#000000" points="260.3798,-146.9 576.3872,-146.9 "/>
<text text-anchor="middle" x="418.3835" y="-130.3" font-family="Times,serif" font-size="14.00" fill="#000000">由header长度字段指定,长度可能为0</text>
<polyline fill="none" stroke="#000000" points="260.3798,-122.1 576.3872,-122.1 "/>
<text text-anchor="middle" x="339.3798" y="-105.5" font-family="Times,serif" font-size="14.00" fill="#000000">..</text>
<polyline fill="none" stroke="#000000" points="418.3798,-97.3 418.3798,-122.1 "/>
<text text-anchor="middle" x="497.3798" y="-105.5" font-family="Times,serif" font-size="14.00" fill="#000000">..</text>
<polyline fill="none" stroke="#000000" points="260.3798,-97.3 576.3872,-97.3 "/>
<text text-anchor="middle" x="418.3835" y="-80.7" font-family="Times,serif" font-size="14.00" fill="#000000">header: 用于传输每个请求/响应都需要的数据</text>
<polyline fill="none" stroke="#000000" points="576.3872,-72.5 576.3872,-171.7 "/>
<text text-anchor="middle" x="692.0101" y="-155.1" font-family="Times,serif" font-size="14.00" fill="#000000">消息体</text>
<polyline fill="none" stroke="#000000" points="576.3872,-146.9 807.633,-146.9 "/>
<text text-anchor="middle" x="692.0101" y="-130.3" font-family="Times,serif" font-size="14.00" fill="#000000">剩余部分，长度可能为0</text>
<polyline fill="none" stroke="#000000" points="576.3872,-122.1 807.633,-122.1 "/>
<text text-anchor="middle" x="633.8872" y="-105.5" font-family="Times,serif" font-size="14.00" fill="#000000">..</text>
<polyline fill="none" stroke="#000000" points="691.3872,-97.3 691.3872,-122.1 "/>
<text text-anchor="middle" x="749.3872" y="-105.5" font-family="Times,serif" font-size="14.00" fill="#000000">..</text>
<polyline fill="none" stroke="#000000" points="576.3872,-97.3 807.633,-97.3 "/>
<text text-anchor="middle" x="692.0101" y="-80.7" font-family="Times,serif" font-size="14.00" fill="#000000">body: 消息号对应的请求/响应的数据</text>
</g>
<!-- h_start -->
<g id="node2" class="node">
<title>h_start</title>
<text text-anchor="middle" x="347.2188" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">header start address</text>
</g>
<!-- h_start&#45;&gt;msg -->
<g id="edge1" class="edge">
<title>h_start&#45;&gt;msg:hs</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M345.6484,-36.0792C344.0814,-54.1191 341.7136,-81.3784 340.3312,-97.2939"/>
</g>
<!-- h_end -->
<g id="node3" class="node">
<title>h_end</title>
<text text-anchor="middle" x="497.2188" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">header end address</text>
</g>
<!-- h_end&#45;&gt;msg -->
<g id="edge2" class="edge">
<title>h_end&#45;&gt;msg:he</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M497.2188,-36.0792C497.2188,-54.1191 497.2188,-81.3784 497.2188,-97.2939"/>
</g>
<!-- h_len -->
<g id="node4" class="node">
<title>h_len</title>
<text text-anchor="middle" x="133.2188" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">header end address &#45; header start address + 1</text>
</g>
<!-- h_len&#45;&gt;msg -->
<g id="edge3" class="edge">
<title>h_len&#45;&gt;msg:s0</title>
<path fill="none" stroke="#000000" d="M157.1633,-36.4674C164.2373,-43.5463 170.8565,-52.2916 173.724,-62.0408"/>
<polygon fill="#000000" stroke="#000000" points="170.2869,-62.7231 175.2188,-72.1 177.2108,-61.6941 170.2869,-62.7231"/>
</g>
</g>
</svg>
